---
title: "MACS 40700: Assignment 2 - Experiment"
author: "Alice Mee Seon Chung, Ningyin Xu"
date: "5/1/2018"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE,
                      warning = FALSE,
                      echo = FALSE,
                      cache = TRUE)
library(ggplot2)
library(tidyverse)
library(readstata13)
theme_set(theme_minimal())
```

## Overview
In this work, we try to utilize experiment to test the application of the hierarchy of elementary perceptual, put together by William S. Cleveland and Rober McGill, on the visualization of time-series data. In the hierarchy, graphs with position along common scales enable the most accurate estimates. We extend this idea arguing that for temporal data, which often includes multiple simulateneous time series, the context of the position matters in terms of how accurate and fast readers can extract the information.

## Question and Hypothesis
We want to examine and test the principles of visualization and run task regarding a graphical perception experiment. In this experiment, we aim to answer the question: When data is structured to have multiple groups, is separated line graph (small multiple lines) more efficient in conveying accurate information on within group differences than simple line plot? Our basic assumption is that the number of time series line in a graph has strong effect on the perception performance, thus to many lines in a simple line plot would be distracting. We develop the following hypotheses:

> $H_1$: A separated line graph enables more accurate estimate for within group differences than a simple line graph.

> $H_2$: A separated line graph by categories will take readers less time to make decision in this occasion. 

## Experiment Design
To test this hypothesis, we designed an experiment consisting of one task: estimating the ratio of two data points from a plot. The participants have to read the values of 2 data points (for 1 year) from data, and estimate the percentage of the lower one is to the higher one. To compare the effect of two line graphs has on the participants' ability to accurately estimate and participants' response time, the experiment randomly presents data using one type of line plots.

We first offer a screening question to subjects to avoid unreliable answers. Each subject needs to answer a question, "which group has the highest income value across the years?", to the graph below. The answer should be "Black, Man". If the subject fails this test, the survey will end.

![screening](image/4linegraph.png)

Once the participant passed the screening test, they entered into our random experiment. They will be required to ask the same question for one of the following 2 graphs: In 2014, what percentage does the black women's income take out of black men's income? We asked the subjects to roughly estimate the percentage, and provide the formula to do it in case our question is vague in some ways. 

![plot1](image/4linegraph.png)

![plot2](image/separatedline.png)

## Data and Descriptive Analysis
```{r data, echo=FALSE}
survey <- read.csv("surveydata_r.csv")
tot_response <- nrow(dplyr::filter(survey, !grepl("Preview", Status) & !grepl("Spam", Status)))
unfinished_res <- nrow(dplyr::filter(survey, grepl("FALSE", Finished)))
failed_res <- nrow(dplyr::filter(survey, !grepl("Black, Man", Q2)))
response <- dplyr::filter(survey, !grepl("Preview", Status) & !grepl("Spam", Status) & grepl("TRUE", Finished) & grepl("Black, Man", Q2) & !grepl("Not Black, Man", Q2))
```

In total, we received `r tot_response` responses from Amazon Turk in about 72 hours. Among these responses, `r unfinished_res` responses are not finished before we close the survey, and `r failed_res` responses failed our screening test. Here we will do our descriptive analyses on our finished responses that passed our screening test, which include `r nrow(response)` observations.


## Analysis and Results


## Conclusion


